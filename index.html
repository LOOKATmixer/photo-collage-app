<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Фотоальбом-коллаж</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="plugins/font-awesome/css/all.min.css">
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/components.css">
</head>
<body class="page">
<!-- Заголовок -->
<header class="header">
    <div class="header__container">
        <h1 class="header__title">Создание фотоальбома-коллажа</h1>
        <p class="header__subtitle">Настройте размеры альбома, добавьте фотографии и создайте уникальный
            коллаж</p>
    </div>
</header>
<div class="page__container">
    <!-- Основной контент -->
    <main class="main">
        <!-- Настройки альбома сверху -->
        <section class="settings settings--horizontal">
            <div class="settings__container settings__container--horizontal">
                <h2 class="settings__title">Настройки альбома</h2>

                <div class="settings__content">
                    <!-- Размеры альбома -->
                    <div class="settings__section settings__section--inline">
                        <h3 class="settings__section-title">Размеры альбома</h3>
                        <div class="album-size album-size--horizontal">
                            <div class="album-size__inputs">
                                <div class="album-size__group">
                                    <label class="album-size__label">Ширина (см):</label>
                                    <input type="number" class="album-size__input j-album-width" min="10" max="50"
                                           value="30" step="0.5">
                                </div>
                                <div class="album-size__group">
                                    <label class="album-size__label">Высота (см):</label>
                                    <input type="number" class="album-size__input j-album-height" min="10" max="50"
                                           value="20" step="0.5">
                                </div>
                            </div>
                            <div class="album-size__presets">
                                <button class="album-size__preset j-preset" data-width="21" data-height="29.7">A4
                                </button>
                                <button class="album-size__preset j-preset" data-width="23" data-height="23">23x23
                                </button>
                                <button class="album-size__preset j-preset" data-width="35" data-height="23">35x23
                                </button>
                                <button class="album-size__preset j-preset" data-width="30" data-height="20">30x20
                                </button>
                            </div>
                            <div class="album-scale">
                                <div class="album-scale__controls">
                                    <button class="album-scale__button j-scale-down" title="Уменьшить масштаб">
                                        <i class="fas fa-search-minus"></i>
                                    </button>
                                    <span class="album-scale__value j-scale-value">100%</span>
                                    <button class="album-scale__button j-scale-up" title="Увеличить масштаб">
                                        <i class="fas fa-search-plus"></i>
                                    </button>
                                    <button class="album-scale__button j-scale-reset" title="Сбросить масштаб">
                                        <i class="fas fa-expand-arrows-alt"></i>
                                    </button>
                                    <button class="album-scale__button j-scale-fit" title="Подогнать по размеру">
                                        <i class="fas fa-compress-arrows-alt"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="screen-calibration">
                                <div class="screen-calibration__group">
                                    <label class="screen-calibration__label">Диагональ экрана (дюймы):</label>
                                    <input type="number" class="screen-calibration__input j-screen-diagonal"
                                           min="10" max="50" value="24" step="0.1">
                                </div>
                                <div class="screen-calibration__info">
                                    <div class="calibration-square"></div>
                                    <div class="calibration-info">
                                        <span class="screen-calibration__value j-pixels-per-cm">37.8</span> пикс/см
                                        <div class="calibration-info__hint">
                                            Приложите линейку к экрану - квадрат должен быть точно 1см×1см
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Загрузка фотографий -->
                    <div class="settings__section settings__section--inline">
                        <h3 class="settings__section-title">Фотографии</h3>
                        <div class="photo-upload photo-upload--compact">
                            <div class="photo-upload__dropzone j-dropzone">
                                <div class="photo-upload__content">
                                    <div class="photo-upload__icon"><i class="fas fa-camera fa-2x"></i></div>
                                    <p class="photo-upload__text"><strong>Нажмите</strong> или перетащите</p>
                                    <input type="file" class="photo-upload__input j-file-input" multiple
                                           accept="image/*">
                                </div>
                            </div>
                            <div class="photo-upload__gallery j-photo-gallery">
                                <!-- Загруженные фотографии -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Рабочая область коллажа на всю ширину -->
        <section class="workspace workspace--fullwidth">
            <div class="workspace__container">
                <div class="workspace__header">
                    <h2 class="workspace__title">Альбом-разворот</h2>
                </div>

                <div class="album-spread">
                    <div class="album-spread__background">
                        <div class="album-spread__shadow"></div>
                        <div class="album-spread__book">
                            <div class="album-spread__page album-spread__page--left">
                                <div class="album-spread__page-inner">
                                    <div class="collage__canvas j-canvas-left">
                                        <!-- Левая страница -->
                                    </div>
                                </div>
                            </div>
                            <div class="album-spread__page album-spread__page--right">
                                <div class="album-spread__page-inner">
                                    <div class="collage__canvas j-canvas-right">
                                        <!-- Правая страница -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="collage__info j-info">
                    <p class="collage__size">Размер страницы: <span class="j-current-size">30x20 см</span></p>
                    <p class="collage__photos">Фотографий: <span class="j-photo-count">0</span></p>
                </div>

                <!-- Панель действий -->
                <div class="actions">
                    <button class="actions__button actions__button--danger j-clear-all">
                        <i class="fas fa-trash"></i> Очистить все
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- Модальные окна -->
    <div class="modal j-modal" id="photo-settings-modal">
        <div class="modal__overlay j-modal-overlay"></div>
        <div class="modal__content">
            <div class="modal__header">
                <h3 class="modal__title">Настройки фотографии</h3>
                <button class="modal__close j-modal-close"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal__body">
                <div class="photo-settings">
                    <div class="photo-settings__group">
                        <label class="photo-settings__label">Размер:</label>
                        <select class="photo-settings__select j-photo-size">
                            <option value="5x7">5x7 см</option>
                            <option value="7.5x10">7.5x10 см</option>
                            <option value="8x10">8x10 см</option>
                            <option value="9x11">9x11 см</option>
                            <option value="10x10">10x10 см (квадрат)</option>
                            <option value="10x15" selected>10x15 см</option>
                            <option value="15x20">15x20 см</option>
                            <option value="custom">Свой размер</option>
                        </select>
                    </div>
                    <div class="photo-settings__group j-custom-size" style="display: none;">
                        <label class="photo-settings__label">Ширина (см):</label>
                        <input type="number" class="photo-settings__input j-custom-width" min="1" max="50"
                               step="0.1">
                        <label class="photo-settings__label">Высота (см):</label>
                        <input type="number" class="photo-settings__input j-custom-height" min="1" max="50"
                               step="0.1">
                    </div>
                    <div class="photo-settings__group">
                        <label class="photo-settings__label">Поворот:</label>
                        <input type="range" class="photo-settings__range j-rotation" min="-180" max="180" value="0"
                               step="1">
                        <span class="photo-settings__value j-rotation-value">0°</span>
                    </div>
                </div>
            </div>
            <div class="modal__footer">
                <button class="modal__button modal__button--primary j-apply-settings">
                    <i class="fas fa-check"></i> Применить
                </button>
                <button class="modal__button modal__button--danger j-delete-photo">
                    <i class="fas fa-trash"></i> Удалить фотографию
                </button>
                <button class="modal__button modal__button--secondary j-modal-close">
                    <i class="fas fa-times"></i> Отмена
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Подключение скриптов -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
<script src="assets/js/app.js"></script>
<script src="assets/js/photo-manager.js"></script>
<script src="assets/js/collage-builder.js"></script>

<script>
    function startApp() {
        // Убираем уведомление после первого клика
        const notice = document.querySelector('.github-notice');
        if (notice) {
            notice.style.display = 'none';
        }
    }
</script>
</body>
</html>